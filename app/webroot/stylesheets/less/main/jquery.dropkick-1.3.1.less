@dk-color: @gray;
@dk-background: #f9f9f9;
@dk-border: @input-border;
@dk-border-width: @brand-border-width;
@dk-border-light: #e3e3e3;

.border-radius(@radius) {
  -webkit-border-radius: @radius;
  -moz-border-radius: @radius;
  border-radius: @radius;
}

.dk_container {
	margin-bottom: 0;
	background-color: @dk-background;
	.border-radius(@border-radius-base);
	
	&:focus {
		outline: 0;
	}
	a {
		cursor: pointer;
		text-decoration: none;
	}
}

.dk_toggle {
	position: relative;
	border: @dk-border-width solid @dk-border;
	color: @dk-color;
	padding: 6px 25px 4px 8px;
	
	.border-radius(@border-radius-base);
	.transition(border-color .5s);
	
	&:after {
		position: absolute;
		top: 45%;
		right: 10px;
		content: '';
		border-left: 5px solid transparent;
		border-right: 5px solid transparent;
		border-top: 5px solid @gray-light;
	}
}

// Applied when the dropdown is focused
.dk_focus .dk_toggle {
    @color-rgba: rgba(red(@input-border-focus), green(@input-border-focus), blue(@input-border-focus), .6);
	background: white;
	border-color: @input-border-focus;
	outline: 0;
	.box-shadow(none);
}

// Applied whenever the dropdown is open
.dk_open {
/*	.box-shadow(0 0 5px #40b5e2);
*/	z-index: 10;
	
	.dk_toggle {
		background-color: white;
		
		.border-radius(@border-radius-base @border-radius-base 0 0);
	}
}

// The outer container of the options
.dk_options {
	background: #fefefe;
	
	.border-radius(0 0 @border-radius-base @border-radius-base);
	.box-shadow(0 1px 4px rgba(0, 0, 0, 0.15));
	
	a {
		color: @dk-color;
		background-color: #fff;
		border-bottom: @dk-border-width solid @dk-border-light;
		padding: 8px 10px;
	}
	a:hover,
	.dk_option_current a {
		background-color: @dk-background;
		text-decoration: none;
	}
	li:last-child a {
		border-bottom: none;
	}
	.disabled {
		cursor: default;
	}
	.disabled a {
		color: #aaa;
	}
	.disabled:hover, 
	.disabled:hover a {
		cursor: default;
		background-color: #fff;
		border-bottom-color: #999;
	}
}

// Inner container for options, this is what makes the scrollbar possible
.dk_options_inner,
.dk_options_inner li {
	margin: 0;
	padding: 0;
	list-style: none;
}
.dk_options_inner {
	max-height: 250px;
	border: @dk-border-width solid @dk-border;
	color: @dk-color;
	.border-radius(0 0 @border-radius-base @border-radius-base);
}

// Special styles for color selects
.color_select {
	.dk_options_inner {
		a {
			color: white;
			text-shadow: 0 -1px 0 rgba(0,0,0,0.3);
			
			&:hover {
				color: @dk-color !important;
				background-color: @dk-background !important;
				border-bottom: @dk-border-width solid @dk-border-light !important;
			}
		}
	}
}

// Critical to the continued enjoyment of working dropdowns
.dk_container {
	display: none;
	float: left;
	
	a {
		outline: 0;
	}
}

.dk_toggle {
	display: -moz-inline-stack;
	display: inline-block;
	*display: inline;
	position: relative;
	zoom: 1;
}

.dk_label {
	.ellipsis;
}

.dk_open {
	position: relative;

	.dk_options {
		display: block;
	}
	.dk_label {
		color: inherit;
	}
}

.dk_options {
	display: none;
	margin-top: -1px;
	position: absolute;
	right: 0;
	width: 100%;
	
	a, 
	a:link, 
	a:visited {
		display: block;
	}
}

.dk_options_inner {
	overflow: auto;
	position: relative;
	-webkit-overflow-scrolling: touch;
}

// Hides only dropkick <select> instances
.dk_container select {
	position: absolute;
	top: -99999em;
	visibility: hidden;
}

// nativeMobile override
.dk_mobile {
	position: relative;

	select {
		display: block;
		width: 100%;
		height: 100%;
		top: 0;
		left: 0;
		visibility: visible;
		opacity: 0;
		appearance: none;
		-moz-appearance: none;
		-webkit-appearance: none;
	}
}
//***** End Critical to the continued enjoyment of working dropdowns ******